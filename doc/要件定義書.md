# WEB3 MONEY ã‚·ã‚¹ãƒ†ãƒ å®Œå…¨å®Ÿè£…è¨ˆç”»æ›¸ã€ã‚³ãƒ¼ãƒ‰ä»˜ãã€‘

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (Next.js)
```
web3-money/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ page.tsx                 # ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ relay/page.tsx           # ãƒªãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ main/page.tsx            # ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx            # ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”‚   â”‚   â”œâ”€â”€ notices/page.tsx    # ãŠçŸ¥ã‚‰ã›ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ campaigns/page.tsx  # ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ layout.tsx              # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â””â”€â”€ globals.css            # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ NoticeList.tsx          # ãŠçŸ¥ã‚‰ã›ä¸€è¦§
â”‚   â”‚   â”œâ”€â”€ CampaignTabs.tsx        # ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã‚¿ãƒ–
â”‚   â”‚   â”œâ”€â”€ VotingCard.tsx          # æŠ•ç¥¨ã‚«ãƒ¼ãƒ‰
â”‚   â”‚   â””â”€â”€ AdminLayout.tsx         # ç®¡ç†ç”»é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ api.ts                  # APIé€šä¿¡
â”‚   â”‚   â””â”€â”€ types.ts                # å‹å®šç¾©
â”‚   â””â”€â”€ hooks/
â”‚       â”œâ”€â”€ useNotices.ts           # ãŠçŸ¥ã‚‰ã›ãƒ•ãƒƒã‚¯
â”‚       â””â”€â”€ useCampaigns.ts         # ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ãƒ•ãƒƒã‚¯
â”œâ”€â”€ package.json
â”œâ”€â”€ tailwind.config.js
â””â”€â”€ next.config.js
```

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (Google Apps Script)
```
GAS Project/
â”œâ”€â”€ main.gs                         # ãƒ¡ã‚¤ãƒ³API
â”œâ”€â”€ notices.gs                      # ãŠçŸ¥ã‚‰ã›æ©Ÿèƒ½
â”œâ”€â”€ campaigns.gs                    # ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³æ©Ÿèƒ½
â”œâ”€â”€ votes.gs                        # æŠ•ç¥¨æ©Ÿèƒ½
â”œâ”€â”€ forms.gs                        # ãƒ•ã‚©ãƒ¼ãƒ é€£æº
â”œâ”€â”€ database.gs                     # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ
â””â”€â”€ utils.gs                        # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
```

## ğŸš€ Phase 1-2: åŸºç›¤æ§‹ç¯‰ï¼ˆ2é€±é–“ï¼‰

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

#### package.json
```json
{
  "name": "web3-money",
  "version": "1.0.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  },
  "dependencies": {
    "next": "14.0.0",
    "react": "^18",
    "react-dom": "^18",
    "typescript": "^5",
    "@types/node": "^20",
    "@types/react": "^18",
    "@types/react-dom": "^18",
    "tailwindcss": "^3.3.0",
    "autoprefixer": "^10.0.1",
    "postcss": "^8",
    "axios": "^1.6.0",
    "date-fns": "^2.30.0"
  }
}
```

#### å‹å®šç¾© (src/lib/types.ts)
```typescript
export interface Notice {
  id: string;
  title: string;
  content: string;
  startDate: string;
  endDate: string;
  createdAt: string;
}

export interface Campaign {
  id: string;
  title: string;
  formUrl: string;
  sheetUrl: string;
  status: 'draft' | 'active' | 'ended' | 'archived';
  startDate: string;
  endDate: string;
  createdAt: string;
  fields: FormField[];
}

export interface FormField {
  key: string;
  displayName: string;
  type: 'text' | 'number' | 'date';
  visible: boolean;
  order: number;
}

export interface Applicant {
  id: string;
  campaignId: string;
  voteCount: number;
  [key: string]: any; // å‹•çš„é …ç›®
}

export interface Vote {
  id: string;
  campaignId: string;
  applicantId: string;
  voteCount: number;
  updatedAt: string;
}

export interface ApiResponse<T> {
  success: boolean;
  data?: T;
  error?: string;
  message?: string;
}
```

#### APIé€šä¿¡ (src/lib/api.ts)
```typescript
import axios from 'axios';
import { Notice, Campaign, Applicant, ApiResponse } from './types';

const API_BASE_URL = process.env.NEXT_PUBLIC_GAS_API_URL;

const api = axios.create({
  baseURL: API_BASE_URL,
  timeout: 30000,
});

// ãŠçŸ¥ã‚‰ã›API
export const getNotices = async (): Promise<Notice[]> => {
  const response = await api.get<ApiResponse<Notice[]>>('?path=notices');
  if (response.data.success) {
    return response.data.data || [];
  }
  throw new Error(response.data.error || 'Failed to fetch notices');
};

export const createNotice = async (notice: Omit<Notice, 'id' | 'createdAt'>): Promise<Notice> => {
  const response = await api.post<ApiResponse<Notice>>('?path=notices', notice);
  if (response.data.success) {
    return response.data.data!;
  }
  throw new Error(response.data.error || 'Failed to create notice');
};

// ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³API
export const getCampaigns = async (status?: string): Promise<Campaign[]> => {
  const url = status ? `?path=campaigns&status=${status}` : '?path=campaigns';
  const response = await api.get<ApiResponse<Campaign[]>>(url);
  if (response.data.success) {
    return response.data.data || [];
  }
  throw new Error(response.data.error || 'Failed to fetch campaigns');
};

export const getCampaign = async (id: string): Promise<Campaign & { applicants: Applicant[] }> => {
  const response = await api.get<ApiResponse<Campaign & { applicants: Applicant[] }>>(`?path=campaign&id=${id}`);
  if (response.data.success) {
    return response.data.data!;
  }
  throw new Error(response.data.error || 'Failed to fetch campaign');
};

export const createCampaign = async (campaign: Omit<Campaign, 'id' | 'createdAt' | 'status'>): Promise<Campaign> => {
  const response = await api.post<ApiResponse<Campaign>>('?path=campaigns', campaign);
  if (response.data.success) {
    return response.data.data!;
  }
  throw new Error(response.data.error || 'Failed to create campaign');
};

export const updateCampaignStatus = async (id: string, status: Campaign['status']): Promise<void> => {
  const response = await api.put<ApiResponse<void>>(`?path=campaigns&id=${id}`, { status });
  if (!response.data.success) {
    throw new Error(response.data.error || 'Failed to update campaign status');
  }
};

// æŠ•ç¥¨API
export const addVote = async (campaignId: string, applicantId: string): Promise<void> => {
  const response = await api.post<ApiResponse<void>>('?path=votes', { campaignId, applicantId });
  if (!response.data.success) {
    throw new Error(response.data.error || 'Failed to add vote');
  }
};

// ãƒ•ã‚©ãƒ¼ãƒ é€£æºAPI
export const testFormConnection = async (sheetUrl: string): Promise<any> => {
  const response = await api.post<ApiResponse<any>>('?path=test-connection', { sheetUrl });
  return response.data;
};

export const getFormFields = async (sheetUrl: string): Promise<any> => {
  const response = await api.post<ApiResponse<any>>('?path=form-fields', { sheetUrl });
  return response.data;
};
```

### åŸºæœ¬ãƒšãƒ¼ã‚¸å®Ÿè£…

#### ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ (src/app/page.tsx)
```typescript
import Link from 'next/link';

export default function HomePage() {
  return (
    <div className="min-h-screen bg-gradient-to-b from-blue-50 to-white">
      <div className="container mx-auto px-4 py-16">
        <div className="text-center mb-12">
          <h1 className="text-4xl font-bold text-gray-800 mb-4">
            WEB3 MONEY
          </h1>
          <p className="text-xl text-gray-600 mb-8">
            ãƒ¬ãƒªãƒ¢ãƒå¥‘ç´„è€…å°‚ç”¨ã‚µãƒ¼ãƒ“ã‚¹
          </p>
          <div className="bg-white rounded-lg shadow-lg p-8 max-w-2xl mx-auto">
            <h2 className="text-2xl font-semibold mb-4">ã‚µãƒ¼ãƒ“ã‚¹å†…å®¹</h2>
            <ul className="text-left space-y-3 text-gray-700">
              <li>â€¢ ãŠçŸ¥ã‚‰ã›ã®é…ä¿¡</li>
              <li>â€¢ æ”¯æ´é‡‘æŠ•ç¥¨ã‚·ã‚¹ãƒ†ãƒ </li>
              <li>â€¢ ãƒ¬ãƒªãƒ¢ãƒå¥‘ç´„è€…é™å®šã‚³ãƒ³ãƒ†ãƒ³ãƒ„</li>
            </ul>
            <div className="mt-8">
              <Link 
                href="/relay"
                className="bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition-colors inline-block"
              >
                ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã™ã‚‹
              </Link>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}
```

#### ãƒªãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒšãƒ¼ã‚¸ (src/app/relay/page.tsx)
```typescript
'use client';
import { useEffect, useState } from 'react';
import { useRouter } from 'next/navigation';

export default function RelayPage() {
  const router = useRouter();
  const [status, setStatus] = useState<'checking' | 'success' | 'error'>('checking');

  useEffect(() => {
    const checkReferrer = () => {
      const allowedReferrers = [
        'xmobile.ne.jp/customer/',
        'xmobile.ne.jp/thanks/',
        'localhost', // é–‹ç™ºç”¨
      ];

      const referrer = document.referrer;
      const isAllowed = allowedReferrers.some(allowed => 
        referrer.includes(allowed)
      );

      if (isAllowed || process.env.NODE_ENV === 'development') {
        setStatus('success');
        setTimeout(() => {
          router.push('/main');
        }, 2000);
      } else {
        setStatus('error');
      }
    };

    checkReferrer();
  }, [router]);

  if (status === 'checking') {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <div className="text-center">
          <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"></div>
          <p className="text-gray-600">ã‚¢ã‚¯ã‚»ã‚¹ç¢ºèªä¸­...</p>
        </div>
      </div>
    );
  }

  if (status === 'success') {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <div className="text-center">
          <div className="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg className="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" />
            </svg>
          </div>
          <p className="text-gray-600">èªè¨¼æˆåŠŸï¼ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆä¸­...</p>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen flex items-center justify-center">
      <div className="text-center max-w-md mx-auto p-8">
        <div className="w-12 h-12 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4">
          <svg className="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
          </svg>
        </div>
        <h2 className="text-xl font-semibold mb-2">ã‚¢ã‚¯ã‚»ã‚¹ãŒæ‹’å¦ã•ã‚Œã¾ã—ãŸ</h2>
        <p className="text-gray-600 mb-4">
          ã“ã®ãƒšãƒ¼ã‚¸ã¯ãƒ¬ãƒªãƒ¢ãƒãŠå®¢æ§˜ãƒã‚¤ãƒšãƒ¼ã‚¸ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ã®ã¿è¨±å¯ã•ã‚Œã¦ã„ã¾ã™ã€‚
        </p>
        <button 
          onClick={() => window.history.back()}
          className="bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700"
        >
          æˆ»ã‚‹
        </button>
      </div>
    </div>
  );
}
```

## ğŸ”” Phase 3: ãŠçŸ¥ã‚‰ã›æ©Ÿèƒ½ï¼ˆ1é€±é–“ï¼‰

#### ãŠçŸ¥ã‚‰ã›ä¸€è¦§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (src/components/NoticeList.tsx)
```typescript
'use client';
import { useEffect, useState } from 'react';
import { Notice } from '@/lib/types';
import { getNotices } from '@/lib/api';
import { format } from 'date-fns';
import { ja } from 'date-fns/locale';

export default function NoticeList() {
  const [notices, setNotices] = useState<Notice[]>([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    const fetchNotices = async () => {
      try {
        const data = await getNotices();
        setNotices(data);
      } catch (error) {
        console.error('Failed to fetch notices:', error);
      } finally {
        setLoading(false);
      }
    };

    fetchNotices();
  }, []);

  if (loading) {
    return (
      <div className="space-y-4">
        {[1, 2, 3].map(i => (
          <div key={i} className="bg-white rounded-lg shadow p-6 animate-pulse">
            <div className="h-4 bg-gray-200 rounded mb-2"></div>
            <div className="h-3 bg-gray-200 rounded w-3/4"></div>
          </div>
        ))}
      </div>
    );
  }

  if (notices.length === 0) {
    return (
      <div className="text-center py-12">
        <p className="text-gray-500">ç¾åœ¨ãŠçŸ¥ã‚‰ã›ã¯ã‚ã‚Šã¾ã›ã‚“</p>
      </div>
    );
  }

  return (
    <div className="space-y-4">
      {notices.map((notice) => (
        <div key={notice.id} className="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow">
          <div className="p-6">
            <h3 className="text-lg font-semibold text-gray-800 mb-3">
              {notice.title}
            </h3>
            <div className="text-gray-600 mb-4 whitespace-pre-wrap">
              {notice.content}
            </div>
            <div className="flex justify-between text-sm text-gray-500">
              <span>æŠ•ç¨¿æ—¥: {format(new Date(notice.createdAt), 'yyyyå¹´Mæœˆdæ—¥', { locale: ja })}</span>
              <span>æœŸé™: {format(new Date(notice.endDate), 'yyyyå¹´Mæœˆdæ—¥', { locale: ja })}</span>
            </div>
          </div>
        </div>
      ))}
    </div>
  );
}
```

#### ãŠçŸ¥ã‚‰ã›ç®¡ç†ç”»é¢ (src/app/admin/notices/page.tsx)
```typescript
'use client';
import { useState, useEffect } from 'react';
import { Notice } from '@/lib/types';
import { getNotices, createNotice, updateNotice, deleteNotice } from '@/lib/api';

export default function NoticesAdmin() {
  const [notices, setNotices] = useState<Notice[]>([]);
  const [isEditing, setIsEditing] = useState(false);
  const [editingNotice, setEditingNotice] = useState<Partial<Notice>>({});
  const [loading, setLoading] = useState(false);

  const [formData, setFormData] = useState({
    title: '',
    content: '',
    startDate: new Date().toISOString().split('T')[0],
    endDate: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]
  });

  useEffect(() => {
    fetchNotices();
  }, []);

  const fetchNotices = async () => {
    try {
      const data = await getNotices();
      setNotices(data);
    } catch (error) {
      console.error('Failed to fetch notices:', error);
    }
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setLoading(true);
    
    try {
      if (isEditing && editingNotice.id) {
        await updateNotice(editingNotice.id, formData);
      } else {
        await createNotice(formData);
      }
      
      await fetchNotices();
      resetForm();
      alert('ãŠçŸ¥ã‚‰ã›ã‚’ä¿å­˜ã—ã¾ã—ãŸ');
    } catch (error) {
      console.error('Failed to save notice:', error);
      alert('ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ');
    } finally {
      setLoading(false);
    }
  };

  const handleEdit = (notice: Notice) => {
    setIsEditing(true);
    setEditingNotice(notice);
    setFormData({
      title: notice.title,
      content: notice.content,
      startDate: notice.startDate.split('T')[0],
      endDate: notice.endDate.split('T')[0]
    });
  };

  const handleDelete = async (id: string) => {
    if (!confirm('æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) return;
    
    try {
      await deleteNotice(id);
      await fetchNotices();
      alert('ãŠçŸ¥ã‚‰ã›ã‚’å‰Šé™¤ã—ã¾ã—ãŸ');
    } catch (error) {
      console.error('Failed to delete notice:', error);
      alert('å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸ');
    }
  };

  const resetForm = () => {
    setIsEditing(false);
    setEditingNotice({});
    setFormData({
      title: '',
      content: '',
      startDate: new Date().toISOString().split('T')[0],
      endDate: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]
    });
  };

  return (
    <div className="max-w-4xl mx-auto p-6">
      <h1 className="text-2xl font-bold mb-6">ãŠçŸ¥ã‚‰ã›ç®¡ç†</h1>
      
      {/* ãƒ•ã‚©ãƒ¼ãƒ  */}
      <div className="bg-white rounded-lg shadow p-6 mb-6">
        <h2 className="text-lg font-semibold mb-4">
          {isEditing ? 'ãŠçŸ¥ã‚‰ã›ç·¨é›†' : 'æ–°è¦ãŠçŸ¥ã‚‰ã›'}
        </h2>
        
        <form onSubmit={handleSubmit} className="space-y-4">
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-1">
              ã‚¿ã‚¤ãƒˆãƒ«
            </label>
            <input
              type="text"
              value={formData.title}
              onChange={(e) => setFormData({...formData, title: e.target.value})}
              className="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
              required
            />
          </div>

          <div>
            <label className="block text-sm font-medium text-gray-700 mb-1">
              å†…å®¹
            </label>
            <textarea
              value={formData.content}
              onChange={(e) => setFormData({...formData, content: e.target.value})}
              rows={6}
              className="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
              required
            />
          </div>

          <div className="grid grid-cols-2 gap-4">
            <div>
              <label className="block text-sm font-medium text-gray-700 mb-1">
                é–‹å§‹æ—¥
              </label>
              <input
                type="date"
                value={formData.startDate}
                onChange={(e) => setFormData({...formData, startDate: e.target.value})}
                className="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                required
              />
            </div>

            <div>
              <label className="block text-sm font-medium text-gray-700 mb-1">
                çµ‚äº†æ—¥
              </label>
              <input
                type="date"
                value={formData.endDate}
                onChange={(e) => setFormData({...formData, endDate: e.target.value})}
                className="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                required
              />
            </div>
          </div>

          <div className="flex gap-2">
            <button
              type="submit"
              disabled={loading}
              className="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50"
            >
              {loading ? 'ä¿å­˜ä¸­...' : (isEditing ? 'æ›´æ–°' : 'ä½œæˆ')}
            </button>
            
            {isEditing && (
              <button
                type="button"
                onClick={resetForm}
                className="bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700 transition-colors"
              >
                ã‚­ãƒ£ãƒ³ã‚»ãƒ«
              </button>
            )}
          </div>
        </form>
      </div>

      {/* ä¸€è¦§ */}
      <div className="bg-white rounded-lg shadow">
        <div className="p-6">
          <h2 className="text-lg font-semibold mb-4">ãŠçŸ¥ã‚‰ã›ä¸€è¦§</h2>
          
          {notices.length === 0 ? (
            <p className="text-gray-500 text-center py-8">ãŠçŸ¥ã‚‰ã›ãŒã‚ã‚Šã¾ã›ã‚“</p>
          ) : (
            <div className="space-y-4">
              {notices.map((notice) => (
                <div key={notice.id} className="border border-gray-200 rounded-lg p-4">
                  <div className="flex justify-between items-start mb-2">
                    <h3 className="font-semibold">{notice.title}</h3>
                    <div className="flex gap-2">
                      <button
                        onClick={() => handleEdit(notice)}
                        className="text-blue-600 hover:text-blue-800 text-sm"
                      >
                        ç·¨é›†
                      </button>
                      <button
                        onClick={() => handleDelete(notice.id)}
                        className="text-red-600 hover:text-red-800 text-sm"
                      >
                        å‰Šé™¤
                      </button>
                    </div>
                  </div>
                  <p className="text-gray-600 text-sm mb-2 line-clamp-2">
                    {notice.content}
                  </p>
                  <div className="flex justify-between text-xs text-gray-500">
                    <span>{notice.startDate} ï½ {notice.endDate}</span>
                    <span>{notice.createdAt}</span>
                  </div>
                </div>
              ))}
            </div>
          )}
        </div>
      </div>
    </div>
  );
}
```

## ğŸ—³ï¸ Phase 4-5: æŠ•ç¥¨ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ1.5é€±é–“ï¼‰

#### ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã‚¿ãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (src/components/CampaignTabs.tsx)
```typescript
'use client';
import { useState, useEffect } from 'react';
import { Campaign, Applicant } from '@/lib/types';
import { getCampaigns, getCampaign } from '@/lib/api';
import VotingCard from './VotingCard';

export default function CampaignTabs() {
  const [activeCampaigns, setActiveCampaigns] = useState<Campaign[]>([]);
  const [selectedCampaign, setSelectedCampaign] = useState<string | null>(null);
  const [campaignData, setCampaignData] = useState<(Campaign & { applicants: Applicant[] }) | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchActiveCampaigns();
  }, []);

  useEffect(() => {
    if (selectedCampaign) {
      fetchCampaignData(selectedCampaign);
    }
  }, [selectedCampaign]);

  const fetchActiveCampaigns = async () => {
    try {
      const campaigns = await getCampaigns('active');
      setActiveCampaigns(campaigns);
      
      // æœ€åˆã®ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã‚’è‡ªå‹•é¸æŠ
      if (campaigns.length > 0) {
        setSelectedCampaign(campaigns[0].id);
      }
    } catch (error) {
      console.error('Failed to fetch campaigns:', error);
    } finally {
      setLoading(false);
    }
  };

  const fetchCampaignData = async (campaignId: string) => {
    try {
      const data = await getCampaign(campaignId);
      setCampaignData(data);
    } catch (error) {
      console.error('Failed to fetch campaign data:', error);
    }
  };

  if (loading) {
    return (
      <div className="flex justify-center py-12">
        <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>
      </div>
    );
  }

  if (activeCampaigns.length === 0) {
    return (
      <div className="text-center py-12">
        <p className="text-gray-500">ç¾åœ¨é€²è¡Œä¸­ã®æŠ•ç¥¨ã¯ã‚ã‚Šã¾ã›ã‚“</p>
      </div>
    );
  }

  return (
    <div className="space-y-6">
      {/* ã‚¿ãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */}
      {activeCampaigns.length > 1 && (
        <div className="border-b border-gray-200">
          <nav className="-mb-px flex space-x-8 overflow-x-auto">
            {activeCampaigns.map((campaign) => (
              <button
                key={campaign.id}
                onClick={() => setSelectedCampaign(campaign.id)}
                className={`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm transition-colors ${
                  selectedCampaign === campaign.id
                    ? 'border-blue-500 text-blue-600'
                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
                }`}
              >
                {campaign.title}
              </button>
            ))}
          </nav>
        </div>
      )}

      {/* ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³å†…å®¹ */}
      {campaignData && (
        <div className="space-y-4">
          <div className="bg-white rounded-lg shadow p-6">
            <h2 className="text-xl font-bold mb-2">{campaignData.title}</h2>
            <div className="flex items-center gap-4 text-sm text-gray-600">
              <span>æœŸé–“: {new Date(campaignData.startDate).toLocaleDateString()} ï½ {new Date(campaignData.endDate).toLocaleDateString()}</span>
              <span className="px-2 py-1 rounded-full text-xs bg-green-100 text-green-800">
                æŠ•ç¥¨ä¸­
              </span>
            </div>
            
            <div className="mt-4 p-3 bg-blue-50 border border-blue-200 rounded-md">
              <p className="text-blue-800 text-sm">
                ğŸ’¡ ãŠä¸€äººæ§˜1ç¥¨ã§ãŠé¡˜ã„ã—ã¾ã™ã€‚é‡è¤‡æŠ•ç¥¨ã¯ã”é æ…®ãã ã•ã„ã€‚
              </p>
            </div>
          </div>

          {/* ç”³è«‹è€…ä¸€è¦§ */}
          <div className="space-y-4">
            {campaignData.applicants.length === 0 ? (
              <div className="text-center py-12">
                <p className="text-gray-500">ç”³è«‹è€…ãŒã„ã¾ã›ã‚“</p>
              </div>
            ) : (
              campaignData.applicants
                .sort((a, b) => (b.voteCount || 0) - (a.voteCount || 0))
                .map((applicant, index) => (
                  <VotingCard
                    key={applicant.id}
                    applicant={applicant}
                    campaignId={campaignData.id}
                    rank={index + 1}
                    onVoteSuccess={() => fetchCampaignData(campaignData.id)}
                  />
                ))
            )}
          </div>
        </div>
      )}
    </div>
  );
}
```

#### æŠ•ç¥¨ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (src/components/VotingCard.tsx)
```typescript
'use client';
import { useState } from 'react';
import { Applicant } from '@/lib/types';
import { addVote } from '@/lib/api';

interface VotingCardProps {
  applicant: Applicant;
  campaignId: string;
  rank: number;
  onVoteSuccess: () => void;
}

export default function VotingCard({ applicant, campaignId, rank, onVoteSuccess }: VotingCardProps) {
  const [voting, setVoting] = useState(false);
  const [hasVoted, setHasVoted] = useState(false);

  const handleVote = async () => {
    if (voting || hasVoted) return;

    setVoting(true);
    
    try {
      await addVote(campaignId, applicant.id);
      setHasVoted(true);
      onVoteSuccess();
      
      // æŠ•ç¥¨å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
      alert('æŠ•ç¥¨ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼');
    } catch (error) {
      console.error('Failed to vote:', error);
      alert('æŠ•ç¥¨ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
    } finally {
      setVoting(false);
    }
  };

  const getRankEmoji = (rank: number) => {
    switch (rank) {
      case 1: return 'ğŸ¥‡';
      case 2: return 'ğŸ¥ˆ';
      case 3: return 'ğŸ¥‰';
      default: return '';
    }
  };

  return (
    <div className="bg-white rounded-lg shadow hover:shadow-md transition-shadow">
      <div className="p-6">
        <div className="flex items-start justify-between mb-4">
          <div className="flex-1">
            <div className="flex items-center gap-3 mb-2">
              {rank <= 3 && (
                <span className="text-2xl">{getRankEmoji(rank)}</span>
              )}
              <h3 className="text-lg font-semibold">
                {applicant.name || applicant['ãŠåå‰'] || applicant['æ°å'] || `ç”³è«‹è€…${rank}`}
              </h3>
            </div>
            
            <div className="space-y-2 text-gray-600 mb-4">
              <p>
                <span className="font-medium">æ”¯æ´ç†ç”±:</span> 
                <span className="ml-2">
                  {applicant.reason || applicant['æ”¯æ´ç†ç”±'] || applicant['ç†ç”±'] || 'æœªè¨˜è¼‰'}
                </span>
              </p>
              <p>
                <span className="font-medium">å¸Œæœ›é‡‘é¡:</span> 
                <span className="ml-2">
                  Â¥{(applicant.amount || applicant['å¸Œæœ›é‡‘é¡'] || applicant['é‡‘é¡'] || 0).toLocaleString()}
                </span>
              </p>
            </div>
            
            <div className="flex items-center justify-between">
              <div className="flex items-center gap-2">
                <span className="text-2xl">ğŸ’–</span>
                <span className="font-semibold text-lg">
                  {applicant.voteCount || 0}ç¥¨
                </span>
              </div>
              
              <button
                onClick={handleVote}
                disabled={voting || hasVoted}
                className={`px-6 py-2 rounded-lg font-medium transition-colors ${
                  hasVoted
                    ? 'bg-gray-100 text-gray-500 cursor-not-allowed'
                    : voting
                    ? 'bg-blue-300 text-white cursor-not-allowed'
                    : 'bg-blue-600 text-white hover:bg-blue-700'
                }`}
              >
                {hasVoted 
                  ? 'å¿œæ´æ¸ˆã¿' 
                  : voting 
                  ? 'æŠ•ç¥¨ä¸­...' 
                  : 'ğŸ’– å¿œæ´ã™ã‚‹'
                }
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}
```

#### ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ (src/app/main/page.tsx)
```typescript
'use client';
import { useState } from 'react';
import NoticeList from '@/components/NoticeList';
import CampaignTabs from '@/components/CampaignTabs';

export default function MainPage() {
  const [activeTab, setActiveTab] = useState<'notices' | 'voting'>('notices');

  return (
    <div className="min-h-screen bg-gray-50">
      <div className="bg-white shadow-sm">
        <div className="container mx-auto px-4 py-4">
          <h1 className="text-2xl font-bold text-gray-800 mb-4">
            WEB3 MONEY
          </h1>
          
          <div className="flex border-b">
            <button
              onClick={() => setActiveTab('notices')}
              className={`px-6 py-3 font-medium border-b-2 transition-colors ${
                activeTab === 'notices'
                  ? 'border-blue-600 text-blue-600'
                  : 'border-transparent text-gray-500 hover:text-gray-700'
              }`}
            >
              ãŠçŸ¥ã‚‰ã›
            </button>
            <button
              onClick={() => setActiveTab('voting')}
              className={`px-6 py-3 font-medium border-b-2 transition-colors ${
                activeTab === 'voting'
                  ? 'border-blue-600 text-blue-600'
                  : 'border-transparent text-gray-500 hover:text-gray-700'
              }`}
            >
              æ”¯æ´é‡‘æŠ•ç¥¨
            </button>
          </div>
        </div>
      </div>

      <div className="container mx-auto px-4 py-8">
        {activeTab === 'notices' && <NoticeList />}
        {activeTab === 'voting' && <CampaignTabs />}
      </div>
    </div>
  );
}
```

## ğŸ“ Phase 6: ãƒ•ã‚©ãƒ¼ãƒ é€£æºãƒ»ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ç®¡ç†ï¼ˆ1.5é€±é–“ï¼‰

#### ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ç®¡ç†ç”»é¢ (src/app/admin/campaigns/page.tsx)
```typescript
'use client';
import { useState, useEffect } from 'react';
import { Campaign, FormField } from '@/lib/types';
import { getCampaigns, createCampaign, updateCampaignStatus, testFormConnection, getFormFields } from '@/lib/api';

export default function CampaignsAdmin() {
  const [campaigns, setCampaigns] = useState<Campaign[]>([]);
  const [showForm, setShowForm] = useState(false);
  const [loading, setLoading] = useState(false);
  
  const [formData, setFormData] = useState({
    title: '',
    sheetUrl: '',
    startDate: new Date().toISOString().split('T')[0],
    endDate: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]
  });

  const [connectionTest, setConnectionTest] = useState<{
    status: 'idle' | 'testing' | 'success' | 'error';
    result?: any;
  }>({ status: 'idle' });

  const [formFields, setFormFields] = useState<FormField[]>([]);
  const [showFieldMapping, setShowFieldMapping] = useState(false);

  useEffect(() => {
    fetchCampaigns();
  }, []);

  const fetchCampaigns = async () => {
    try {
      const data = await getCampaigns();
      setCampaigns(data);
    } catch (error) {
      console.error('Failed to fetch campaigns:', error);
    }
  };

  const handleTestConnection = async () => {
    if (!formData.sheetUrl.trim()) {
      alert('ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆURLã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
      return;
    }

    setConnectionTest({ status: 'testing' });
    
    try {
      const result = await testFormConnection(formData.sheetUrl);
      
      if (result.success) {
        setConnectionTest({ status: 'success', result });
        
        // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æƒ…å ±ã‚’å–å¾—
        const fieldsResult = await getFormFields(formData.sheetUrl);
        if (fieldsResult.success) {
          setFormFields(fieldsResult.fields.map((field: any, index: number) => ({
            key: field.key,
            displayName: field.key,
            type: field.type || 'text',
            visible: true,
            order: index
          })));
          setShowFieldMapping(true);
        }
      } else {
        setConnectionTest({ status: 'error', result });
      }
    } catch (error) {
      setConnectionTest({ 
        status: 'error', 
        result: { 
          success: false, 
          message: 'ãƒ†ã‚¹ãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ: ' + error 
        }
      });
    }
  };

  const renderConnectionGuide = () => {
    if (connectionTest.status !== 'error' || !connectionTest.result?.guide) return null;

    const guide = connectionTest.result.guide;
    
    return (
      <div className="mt-4 p-4 bg-red-50 border border-red-200 rounded-lg">
        <h4 className="font-semibold text-red-800 mb-2">{guide.title}</h4>
        <ol className="list-decimal list-inside space-y-1 text-sm text-red-700">
          {guide.steps.map((step: string, index: number) => (
            <li key={index}>{step}</li>
          ))}
        </ol>
        <button
          onClick={handleTestConnection}
          className="mt-3 bg-red-600 text-white px-4 py-2 rounded text-sm hover:bg-red-700"
        >
          å†ãƒ†ã‚¹ãƒˆ
        </button>
      </div>
    );
  };

  const handleFieldUpdate = (index: number, field: Partial<FormField>) => {
    setFormFields(prev => 
      prev.map((f, i) => i === index ? { ...f, ...field } : f)
    );
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    
    if (connectionTest.status !== 'success') {
      alert('ã¾ãšæ¥ç¶šãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„');
      return;
    }

    setLoading(true);
    
    try {
      const campaignData = {
        ...formData,
        formUrl: '',
        fields: formFields
      };
      
      await createCampaign(campaignData);
      await fetchCampaigns();
      
      // ãƒ•ã‚©ãƒ¼ãƒ ãƒªã‚»ãƒƒãƒˆ
      setShowForm(false);
      resetForm();
      alert('ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã‚’ä½œæˆã—ã¾ã—ãŸ');
      
    } catch (error) {
      console.error('Failed to create campaign:', error);
      alert('ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸ');
    } finally {
      setLoading(false);
    }
  };

  const resetForm = () => {
    setFormData({
      title: '',
      sheetUrl: '',
      startDate: new Date().toISOString().split('T')[0],
      endDate: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]
    });
    setConnectionTest({ status: 'idle' });
    setFormFields([]);
    setShowFieldMapping(false);
  };

  const handleStatusChange = async (campaignId: string, newStatus: Campaign['status']) => {
    if (!confirm(`ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã‚’ã€Œ${getStatusLabel(newStatus)}ã€ã«å¤‰æ›´ã—ã¾ã™ã‹ï¼Ÿ`)) return;
    
    try {
      await updateCampaignStatus(campaignId, newStatus);
      await fetchCampaigns();
      alert('ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æ›´æ–°ã—ã¾ã—ãŸ');
    } catch (error) {
      console.error('Failed to update status:', error);
      alert('ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ');
    }
  };

  const getStatusLabel = (status: Campaign['status']) => {
    switch (status) {
      case 'draft': return 'æº–å‚™ä¸­';
      case 'active': return 'æŠ•ç¥¨ä¸­';
      case 'ended': return 'çµ‚äº†';
      case 'archived': return 'ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–';
      default: return status;
    }
  };

  const getStatusColor = (status: Campaign['status']) => {
    switch (status) {
      case 'draft': return 'bg-yellow-100 text-yellow-800';
      case 'active': return 'bg-green-100 text-green-800';
      case 'ended': return 'bg-blue-100 text-blue-800';
      case 'archived': return 'bg-gray-100 text-gray-800';
      default: return 'bg-gray-100 text-gray-800';
    }
  };

  return (
    <div className="max-w-6xl mx-auto p-6">
      <div className="flex justify-between items-center mb-6">
        <h1 className="text-2xl font-bold">ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ç®¡ç†</h1>
        <button
          onClick={() => setShowForm(true)}
          className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"
        >
          æ–°è¦ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³
        </button>
      </div>

      {showForm && (
        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
          <div className="bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto">
            <div className="flex justify-between items-center mb-4">
              <h2 className="text-xl font-semibold">æ–°è¦ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ä½œæˆ</h2>
              <button
                onClick={() => {
                  setShowForm(false);
                  resetForm();
                }}
                className="text-gray-500 hover:text-gray-700"
              >
                âœ•
              </button>
            </div>

            <form onSubmit={handleSubmit} className="space-y-6">
              {/* åŸºæœ¬æƒ…å ± */}
              <div className="space-y-4">
                <h3 className="text-lg font-medium">åŸºæœ¬æƒ…å ±</h3>
                
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">
                    ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³å
                  </label>
                  <input
                    type="text"
                    value={formData.title}
                    onChange={(e) => setFormData({...formData, title: e.target.value})}
                    className="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                    required
                  />
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">
                    ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆURL
                  </label>
                  <input
                    type="url"
                    value={formData.sheetUrl}
                    onChange={(e) => setFormData({...formData, sheetUrl: e.target.value})}
                    placeholder="https://docs.google.com/spreadsheets/d/..."
                    className="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                    required
                  />
                  <p className="text-xs text-gray-500 mt-1">
                    Googleãƒ•ã‚©ãƒ¼ãƒ ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®URLã‚’å…¥åŠ›ã—ã¦ãã ã•ã„
                  </p>
                </div>

                <div className="flex gap-2">
                  <button
                    type="button"
                    onClick={handleTestConnection}
                    disabled={connectionTest.status === 'testing'}
                    className={`px-4 py-2 rounded-md text-sm font-medium ${
                      connectionTest.status === 'testing'
                        ? 'bg-gray-300 text-gray-500 cursor-not-allowed'
                        : connectionTest.status === 'success'
                        ? 'bg-green-600 text-white'
                        : connectionTest.status === 'error'
                        ? 'bg-red-600 text-white'
                        : 'bg-blue-600 text-white hover:bg-blue-700'
                    }`}
                  >
                    {connectionTest.status === 'testing' ? 'æ¥ç¶šä¸­...' :
                     connectionTest.status === 'success' ? 'âœ“ æ¥ç¶šæˆåŠŸ' :
                     connectionTest.status === 'error' ? 'âœ— æ¥ç¶šå¤±æ•—' :
                     'æ¥ç¶šãƒ†ã‚¹ãƒˆ'}
                  </button>
                </div>

                {/* æ¥ç¶šçµæœè¡¨ç¤º */}
                {connectionTest.result && (
                  <div className={`p-3 rounded-md ${
                    connectionTest.result.success ? 'bg-green-50 border border-green-200' : 'bg-red-50 border border-red-200'
                  }`}>
                    <p className={`text-sm ${
                      connectionTest.result.success ? 'text-green-800' : 'text-red-800'
                    }`}>
                      {connectionTest.result.message}
                    </p>
                    
                    {connectionTest.result.success && connectionTest.result.data && (
                      <div className="mt-2 text-xs text-green-700">
                        <p>ã‚·ãƒ¼ãƒˆå: {connectionTest.result.data.sheetName}</p>
                        <p>ãƒ‡ãƒ¼ã‚¿ä»¶æ•°: {connectionTest.result.data.rowCount}ä»¶</p>
                        <p>é …ç›®æ•°: {connectionTest.result.data.headers.length}å€‹</p>
                      </div>
                    )}
                  </div>
                )}

                {renderConnectionGuide()}

                <div className="grid grid-cols-2 gap-4">
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      é–‹å§‹æ—¥
                    </label>
                    <input
                      type="date"
                      value={formData.startDate}
                      onChange={(e) => setFormData({...formData, startDate: e.target.value})}
                      className="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                      required
                    />
                  </div>
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      çµ‚äº†æ—¥
                    </label>
                    <input
                      type="date"
                      value={formData.endDate}
                      onChange={(e) => setFormData({...formData, endDate: e.target.value})}
                      className="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                      required
                    />
                  </div>
                </div>
              </div>

              {/* ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒãƒƒãƒ”ãƒ³ã‚° */}
              {showFieldMapping && formFields.length > 0 && (
                <div className="border-t pt-6">
                  <h3 className="text-lg font-medium mb-4">é …ç›®è¨­å®š</h3>
                  <p className="text-sm text-gray-600 mb-4">
                    æ¤œå‡ºã•ã‚ŒãŸé …ç›®ã®è¡¨ç¤ºè¨­å®šã‚’èª¿æ•´ã—ã¦ãã ã•ã„
                  </p>
                  
                  <div className="space-y-3">
                    {formFields.map((field, index) => (
                      <div key={field.key} className="border border-gray-200 rounded-lg p-4">
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                          <div>
                            <label className="block text-xs font-medium text-gray-700 mb-1">
                              å…ƒã®é …ç›®å
                            </label>
                            <p className="text-sm bg-gray-50 p-2 rounded">{field.key}</p>
                          </div>
                          
                          <div>
                            <label className="block text-xs font-medium text-gray-700 mb-1">
                              è¡¨ç¤ºå
                            </label>
                            <input
                              type="text"
                              value={field.displayName}
                              onChange={(e) => handleFieldUpdate(index, { displayName: e.target.value })}
                              className="w-full text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500"
                            />
                          </div>
                          
                          <div className="flex items-center gap-4">
                            <label className="flex items-center text-xs">
                              <input
                                type="checkbox"
                                checked={field.visible}
                                onChange={(e) => handleFieldUpdate(index, { visible: e.target.checked })}
                                className="mr-1"
                              />
                              è¡¨ç¤º
                            </label>
                          </div>
                        </div>
                      </div>
                    ))}
                  </div>
                </div>
              )}

              <div className="flex gap-2 pt-4 border-t">
                <button
                  type="submit"
                  disabled={connectionTest.status !== 'success' || loading}
                  className={`px-6 py-2 rounded-md font-medium ${
                    connectionTest.status === 'success' && !loading
                      ? 'bg-blue-600 text-white hover:bg-blue-700'
                      : 'bg-gray-300 text-gray-500 cursor-not-allowed'
                  }`}
                >
                  {loading ? 'ä½œæˆä¸­...' : 'ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ä½œæˆ'}
                </button>
                
                <button
                  type="button"
                  onClick={() => {
                    setShowForm(false);
                    resetForm();
                  }}
                  className="px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700"
                >
                  ã‚­ãƒ£ãƒ³ã‚»ãƒ«
                </button>
              </div>
            </form>
          </div>
        </div>
      )}

      {/* ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ä¸€è¦§ */}
      <div className="bg-white rounded-lg shadow">
        <div className="p-6">
          <h2 className="text-lg font-semibold mb-4">ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ä¸€è¦§</h2>
          
          {campaigns.length === 0 ? (
            <p className="text-gray-500 text-center py-8">ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ãŒã‚ã‚Šã¾ã›ã‚“</p>
          ) : (
            <div className="space-y-4">
              {campaigns.map((campaign) => (
                <div key={campaign.id} className="border border-gray-200 rounded-lg p-4">
                  <div className="flex justify-between items-start mb-2">
                    <div>
                      <h3 className="font-semibold mb-1">{campaign.title}</h3>
                      <div className="text-sm text-gray-600 space-y-1">
                        <p>æœŸé–“: {campaign.startDate} ï½ {campaign.endDate}</p>
                        <p>ä½œæˆæ—¥: {new Date(campaign.createdAt).toLocaleDateString()}</p>
                      </div>
                    </div>
                    
                    <div className="flex items-center gap-2">
                      <span className={`px-2 py-1 rounded-full text-xs ${getStatusColor(campaign.status)}`}>
                        {getStatusLabel(campaign.status)}
                      </span>
                    </div>
                  </div>
                  
                  <div className="flex gap-2 mt-4">
                    {campaign.status === 'draft' && (
                      <button
                        onClick={() => handleStatusChange(campaign.id, 'active')}
                        className="text-green-600 hover:text-green-800 text-sm"
                      >
                        é–‹å§‹
                      </button>
                    )}
                    {campaign.status === 'active' && (
                      <button
                        onClick={() => handleStatusChange(campaign.id, 'ended')}
                        className="text-blue-600 hover:text-blue-800 text-sm"
                      >
                        çµ‚äº†
                      </button>
                    )}
                    {campaign.status === 'ended' && (
                      <button
                        onClick={() => handleStatusChange(campaign.id, 'archived')}
                        className="text-gray-600 hover:text-gray-800 text-sm"
                      >
                        ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–
                      </button>
                    )}
                    <button className="text-blue-600 hover:text-blue-800 text-sm">
                      è©³ç´°
                    </button>
                  </div>
                </div>
              ))}
            </div>
          )}
        </div>
      </div>
    </div>
  );
}
```

## ğŸ”§ Google Apps Scriptå®Ÿè£…

### ãƒ¡ã‚¤ãƒ³API (main.gs)
```javascript
// WebApp ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
function doGet(e) {
  return handleRequest('GET', e.parameter);
}

function doPost(e) {
  const data = JSON.parse(e.postData.contents);
  return handleRequest('POST', e.parameter, data);
}

function doPut(e) {
  const data = JSON.parse(e.postData.contents);
  return handleRequest('PUT', e.parameter, data);
}

function doDelete(e) {
  return handleRequest('DELETE', e.parameter);
}

function handleRequest(method, params, data = null) {
  try {
    let result;
    const path = params.path || '';
    
    // CORSãƒ˜ãƒƒãƒ€ãƒ¼è¨­å®š
    const response = ContentService.createTextOutput();
    response.setMimeType(ContentService.MimeType.JSON);
    
    switch(`${method}:${path}`) {
      // ãŠçŸ¥ã‚‰ã›API
      case 'GET:notices':
        result = getNotices();
        break;
      case 'POST:notices':
        result = createNotice(data);
        break;
      case 'PUT:notices':
        result = updateNotice(params.id, data);
        break;
      case 'DELETE:notices':
        result = deleteNotice(params.id);
        break;
        
      // ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³API
      case 'GET:campaigns':
        result = getCampaigns(params.status);
        break;
      case 'GET:campaign':
        result = getCampaignWithApplicants(params.id);
        break;
      case 'POST:campaigns':
        result = createCampaign(data);
        break;
      case 'PUT:campaigns':
        result = updateCampaignStatus(params.id, data.status);
        break;
        
      // æŠ•ç¥¨API
      case 'POST:votes':
        result = addVote(data.campaignId, data.applicantId);
        break;
        
      // ãƒ•ã‚©ãƒ¼ãƒ é€£æºAPI
      case 'POST:test-connection':
        result = testFormConnection(data.sheetUrl);
        break;
      case 'POST:form-fields':
        result = getFormFields(data.sheetUrl);
        break;
        
      default:
        throw new Error('Invalid endpoint: ' + method + ':' + path);
    }
    
    response.setContent(JSON.stringify({
      success: true,
      data: result
    }));
    
  } catch (error) {
    console.error('API Error:', error);
    response.setContent(JSON.stringify({
      success: false,
      error: error.toString(),
      message: error.message
    }));
  }
  
  return response;
}
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ (database.gs)
```javascript
// ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆè¨­å®š
const SHEET_ID = 'YOUR_SHEET_ID'; // å®Ÿéš›ã®ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆIDã«ç½®ãæ›ãˆ

function getSheet(sheetName) {
  const ss = SpreadsheetApp.openById(SHEET_ID);
  let sheet = ss.getSheetByName(sheetName);
  
  if (!sheet) {
    sheet = ss.insertSheet(sheetName);
    initializeSheet(sheet, sheetName);
  }
  
  return sheet;
}

function initializeSheet(sheet, sheetName) {
  switch(sheetName) {
    case 'notices':
      sheet.getRange(1, 1, 1, 6).setValues([[
        'ID', 'Title', 'Content', 'StartDate', 'EndDate', 'CreatedAt'
      ]]);
      break;
      
    case 'campaigns':
      sheet.getRange(1, 1, 1, 9).setValues([[
        'ID', 'Title', 'FormUrl', 'SheetUrl', 'Status', 'StartDate', 'EndDate', 'Fields', 'CreatedAt'
      ]]);
      break;
      
    case 'votes':
      sheet.getRange(1, 1, 1, 5).setValues([[
        'ID', 'CampaignId', 'ApplicantId', 'VoteCount', 'UpdatedAt'
      ]]);
      break;
  }
}

function generateId() {
  return Utilities.getUuid();
}

function getCurrentTimestamp() {
  return new Date().toISOString();
}

function arrayToObject(headers, row) {
  const obj = {};
  headers.forEach((header, index) => {
    obj[header.toLowerCase()] = row[index];
  });
  return obj;
}
```

### ãŠçŸ¥ã‚‰ã›æ©Ÿèƒ½ (notices.gs)
```javascript
function getNotices() {
  const sheet = getSheet('notices');
  const data = sheet.getDataRange().getValues();
  
  if (data.length <= 1) return [];
  
  const headers = data[0];
  const rows = data.slice(1);
  
  const now = new Date();
  
  return rows
    .map(row => arrayToObject(headers, row))
    .filter(notice => {
      const startDate = new Date(notice.startdate);
      const endDate = new Date(notice.enddate);
      return startDate <= now && now <= endDate;
    })
    .sort((a, b) => new Date(b.createdat) - new Date(a.createdat));
}

function createNotice(data) {
  const sheet = getSheet('notices');
  const id = generateId();
  const timestamp = getCurrentTimestamp();
  
  sheet.appendRow([
    id,
    data.title,
    data.content,
    data.startDate,
    data.endDate,
    timestamp
  ]);
  
  return { id, ...data, createdAt: timestamp };
}

function updateNotice(id, data) {
  const sheet = getSheet('notices');
  const values = sheet.getDataRange().getValues();
  
  for (let i = 1; i < values.length; i++) {
    if (values[i][0] === id) {
      sheet.getRange(i + 1, 2, 1, 4).setValues([[
        data.title,
        data.content,
        data.startDate,
        data.endDate
      ]]);
      return { id, ...data };
    }
  }
  
  throw new Error('Notice not found');
}

function deleteNotice(id) {
  const sheet = getSheet('notices');
  const values = sheet.getDataRange().getValues();
  
  for (let i = 1; i < values.length; i++) {
    if (values[i][0] === id) {
      sheet.deleteRow(i + 1);
      return { success: true };
    }
  }
  
  throw new Error('Notice not found');
}
```

### ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³æ©Ÿèƒ½ (campaigns.gs)
```javascript
function getCampaigns(status) {
  const sheet = getSheet('campaigns');
  const data = sheet.getDataRange().getValues();
  
  if (data.length <= 1) return [];
  
  const headers = data[0];
  const rows = data.slice(1);
  
  let campaigns = rows.map(row => {
    const campaign = arrayToObject(headers, row);
    // Fields JSONæ–‡å­—åˆ—ã‚’ãƒ‘ãƒ¼ã‚¹
    if (campaign.fields) {
      try {
        campaign.fields = JSON.parse(campaign.fields);
      } catch (e) {
        campaign.fields = [];
      }
    }
    return campaign;
  });
  
  // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
  if (status) {
    campaigns = campaigns.filter(c => c.status === status);
  }
  
  return campaigns.sort((a, b) => new Date(b.createdat) - new Date(a.createdat));
}

function getCampaignWithApplicants(campaignId) {
  const campaigns = getCampaigns();
  const campaign = campaigns.find(c => c.id === campaignId);
  
  if (!campaign) {
    throw new Error('Campaign not found');
  }
  
  // ç”³è«‹è€…ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
  let applicants = [];
  if (campaign.sheeturl) {
    try {
      applicants = getApplicantsFromSheet(campaign.sheeturl, campaignId);
    } catch (error) {
      console.error('Failed to fetch applicants:', error);
    }
  }
  
  return { ...campaign, applicants };
}

function createCampaign(data) {
  const sheet = getSheet('campaigns');
  const id = generateId();
  const timestamp = getCurrentTimestamp();
  
  sheet.appendRow([
    id,
    data.title,
    data.formUrl || '',
    data.sheetUrl || '',
    'draft',
    data.startDate,
    data.endDate,
    JSON.stringify(data.fields || []),
    timestamp
  ]);
  
  return { id, ...data, status: 'draft', createdAt: timestamp };
}

function updateCampaignStatus(id, status) {
  const sheet = getSheet('campaigns');
  const values = sheet.getDataRange().getValues();
  
  for (let i = 1; i < values.length; i++) {
    if (values[i][0] === id) {
      sheet.getRange(i + 1, 5).setValue(status);
      return { success: true };
    }
  }
  
  throw new Error('Campaign not found');
}

function getApplicantsFromSheet(sheetUrl, campaignId) {
  try {
    const match = sheetUrl.match(/\/spreadsheets\/d\/([a-zA-Z0-9-_]+)/);
    if (!match) {
      throw new Error('Invalid sheet URL');
    }
    
    const sheetId = match[1];
    const ss = SpreadsheetApp.openById(sheetId);
    const sheet = ss.getSheets()[0];
    
    const data = sheet.getDataRange().getValues();
    if (data.length <= 1) return [];
    
    const headers = data[0];
    const rows = data.slice(1);
    
    return rows.map((row, index) => {
      const applicant = { 
        id: `applicant_${campaignId}_${index}`,
        campaignId: campaignId
      };
      
      headers.forEach((header, headerIndex) => {
        applicant[header] = row[headerIndex];
      });
      
      // æŠ•ç¥¨æ•°ã‚’å–å¾—
      applicant.voteCount = getVoteCount(campaignId, applicant.id);
      
      return applicant;
    });
    
  } catch (error) {
    console.error('Error fetching applicants:', error);
    throw new Error('ç”³è«‹è€…ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ: ' + error.toString());
  }
}
```

### æŠ•ç¥¨æ©Ÿèƒ½ (votes.gs)
```javascript
function addVote(campaignId, applicantId) {
  const sheet = getSheet('votes');
  const values = sheet.getDataRange().getValues();
  
  // æ—¢å­˜ã®æŠ•ç¥¨è¨˜éŒ²ã‚’æ¢ã™
  let found = false;
  for (let i = 1; i < values.length; i++) {
    if (values[i][1] === campaignId && values[i][2] === applicantId) {
      // æŠ•ç¥¨æ•°ã‚’+1
      const currentCount = values[i][3] || 0;
      sheet.getRange(i + 1, 4).setValue(currentCount + 1);
      sheet.getRange(i + 1, 5).setValue(getCurrentTimestamp());
      found = true;
      break;
    }
  }
  
  // æ–°è¦æŠ•ç¥¨è¨˜éŒ²ã‚’ä½œæˆ
  if (!found) {
    const id = generateId();
    sheet.appendRow([
      id, 
      campaignId, 
      applicantId, 
      1, 
      getCurrentTimestamp()
    ]);
  }
  
  return { success: true };
}

function getVoteCount(campaignId, applicantId) {
  const sheet = getSheet('votes');
  const values = sheet.getDataRange().getValues();
  
  for (let i = 1; i < values.length; i++) {
    if (values[i][1] === campaignId && values[i][2] === applicantId) {
      return values[i][3] || 0;
    }
  }
  
  return 0;
}

function getVotes(campaignId) {
  const sheet = getSheet('votes');
  const data = sheet.getDataRange().getValues();
  
  if (data.length <= 1) return [];
  
  const headers = data[0];
  const rows = data.slice(1);
  
  return rows
    .filter(row => row[1] === campaignId)
    .map(row => arrayToObject(headers, row));
}
```

### ãƒ•ã‚©ãƒ¼ãƒ é€£æºæ©Ÿèƒ½ (forms.gs)
```javascript
function testFormConnection(sheetUrl) {
  try {
    const match = sheetUrl.match(/\/spreadsheets\/d\/([a-zA-Z0-9-_]+)/);
    if (!match) {
      return {
        success: false,
        error: 'INVALID_URL',
        message: 'ç„¡åŠ¹ãªã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆURLã§ã™'
      };
    }
    
    const sheetId = match[1];
    const ss = SpreadsheetApp.openById(sheetId);
    const sheet = ss.getSheets()[0];
    
    if (!sheet) {
      return {
        success: false,
        error: 'NO_SHEET',
        message: 'ã‚·ãƒ¼ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“'
      };
    }
    
    const data = sheet.getDataRange().getValues();
    
    if (data.length === 0) {
      return {
        success: false,
        error: 'NO_DATA',
        message: 'ã‚·ãƒ¼ãƒˆã«ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“'
      };
    }
    
    const headers = data[0];
    const rowCount = data.length - 1;
    
    return {
      success: true,
      data: {
        sheetName: sheet.getName(),
        headers: headers,
        rowCount: rowCount,
        sampleData: data.length > 1 ? data[1] : null
      },
      message: `æ¥ç¶šæˆåŠŸï¼${rowCount}ä»¶ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ¤œå‡ºã—ã¾ã—ãŸ`
    };
    
  } catch (error) {
    console.error('Connection test error:', error);
    
    if (error.toString().includes('Permission denied')) {
      return {
        success: false,
        error: 'PERMISSION_DENIED',
        message: 'ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“',
        guide: {
          title: 'æ¨©é™è¨­å®šãŒå¿…è¦ã§ã™',
          steps: [
            'ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’é–‹ã„ã¦ãã ã•ã„',
            'å³ä¸Šã®ã€Œå…±æœ‰ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯',
            'ä»¥ä¸‹ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¿½åŠ ã—ã¦ãã ã•ã„:',
            getScriptEmail(),
            'ã¾ãŸã¯ã€Œãƒªãƒ³ã‚¯ã‚’çŸ¥ã£ã¦ã„ã‚‹å…¨å“¡ã€ã«é–²è¦§æ¨©é™ã‚’è¨­å®š'
          ]
        }
      };
    }
    
    return {
      success: false,
      error: 'UNKNOWN_ERROR',
      message: 'ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ' + error.toString()
    };
  }
}

function getFormFields(sheetUrl) {
  try {
    const match = sheetUrl.match(/\/spreadsheets\/d\/([a-zA-Z0-9-_]+)/);
    if (!match) {
      throw new Error('Invalid sheet URL');
    }
    
    const sheetId = match[1];
    const ss = SpreadsheetApp.openById(sheetId);
    const sheet = ss.getSheets()[0];
    
    const data = sheet.getDataRange().getValues();
    const headers = data[0];
    
    const fields = headers.map((header, index) => {
      const columnData = data.slice(1).map(row => row[index]).filter(val => val !== '');
      
      // ãƒ‡ãƒ¼ã‚¿å‹ã‚’æ¨æ¸¬
      let type = 'text';
      if (columnData.length > 0) {
        if (columnData.every(val => !isNaN(val) && val !== '')) {
          type = 'number';
        } else if (columnData.every(val => !isNaN(Date.parse(val)))) {
          type = 'date';
        }
      }
      
      return {
        key: header,
        displayName: header,
        type: type,
        visible: true,
        order: index,
        sampleValue: columnData[0] || ''
      };
    });
    
    return {
      success: true,
      fields: fields
    };
    
  } catch (error) {
    return {
      success: false,
      error: error.toString()
    };
  }
}

function getScriptEmail() {
  try {
    return Session.getActiveUser().getEmail();
  } catch (error) {
    return 'apps-script@google.com';
  }
}
```

## âœ… Phase 7: å®Œæˆãƒ»ãƒ†ã‚¹ãƒˆï¼ˆ1é€±é–“ï¼‰

### ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®š

#### next.config.js
```javascript
/** @type {import('next').NextConfig} */
const nextConfig = {
  env: {
    NEXT_PUBLIC_GAS_API_URL: process.env.NEXT_PUBLIC_GAS_API_URL,
  },
  async headers() {
    return [
      {
        source: '/api/:path*',
        headers: [
          { key: 'Access-Control-Allow-Origin', value: '*' },
          { key: 'Access-Control-Allow-Methods', value: 'GET, POST, PUT, DELETE' },
          { key: 'Access-Control-Allow-Headers', value: 'Content-Type' },
        ],
      },
    ];
  },
};

module.exports = nextConfig;
```

#### ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ (src/app/admin/page.tsx)
```typescript
'use client';
import Link from 'next/link';
import { useState, useEffect } from 'react';
import { getNotices, getCampaigns } from '@/lib/api';

export default function AdminDashboard() {
  const [stats, setStats] = useState({
    totalNotices: 0,
    activeNotices: 0,
    totalCampaigns: 0,
    activeCampaigns: 0
  });

  useEffect(() => {
    fetchStats();
  }, []);

  const fetchStats = async () => {
    try {
      const [notices, campaigns] = await Promise.all([
        getNotices(),
        getCampaigns()
      ]);
      
      setStats({
        totalNotices: notices.length,
        activeNotices: notices.length, // getNoticesã¯æœŸé–“å†…ã®ã‚‚ã®ã®ã¿è¿”ã™
        totalCampaigns: campaigns.length,
        activeCampaigns: campaigns.filter(c => c.status === 'active').length
      });
    } catch (error) {
      console.error('Failed to fetch stats:', error);
    }
  };

  return (
    <div className="max-w-6xl mx-auto p-6">
      <h1 className="text-3xl font-bold mb-8">WEB3 MONEY ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h1>
      
      {/* çµ±è¨ˆã‚«ãƒ¼ãƒ‰ */}
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
        <div className="bg-white rounded-lg shadow p-6">
          <div className="flex items-center">
            <div className="p-2 bg-blue-100 rounded-lg">
              <svg className="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z" />
              </svg>
            </div>
            <div className="ml-4">
              <p className="text-sm font-medium text-gray-600">è¡¨ç¤ºä¸­ãŠçŸ¥ã‚‰ã›</p>
              <p className="text-2xl font-semibold text-gray-900">{stats.activeNotices}</p>
            </div>
          </div>
        </div>

        <div className="bg-white rounded-lg shadow p-6">
          <div className="flex items-center">
            <div className="p-2 bg-green-100 rounded-lg">
              <svg className="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
              </svg>
            </div>
            <div className="ml-4">
              <p className="text-sm font-medium text-gray-600">é€²è¡Œä¸­ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³</p>
              <p className="text-2xl font-semibold text-gray-900">{stats.activeCampaigns}</p>
            </div>
          </div>
        </div>

        <div className="bg-white rounded-lg shadow p-6">
          <div className="flex items-center">
            <div className="p-2 bg-yellow-100 rounded-lg">
              <svg className="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
              </svg>
            </div>
            <div className="ml-4">
              <p className="text-sm font-medium text-gray-600">ç·ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³</p>
              <p className="text-2xl font-semibold text-gray-900">{stats.totalCampaigns}</p>
            </div>
          </div>
        </div>

        <div className="bg-white rounded-lg shadow p-6">
          <div className="flex items-center">
            <div className="p-2 bg-purple-100 rounded-lg">
              <svg className="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 10V3L4 14h7v7l9-11h-7z" />
              </svg>
            </div>
            <div className="ml-4">
              <p className="text-sm font-medium text-gray-600">ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹</p>
              <p className="text-sm font-semibold text-green-600">æ­£å¸¸ç¨¼åƒä¸­</p>
            </div>
          </div>
        </div>
      </div>

      {/* ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ */}
      <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
        <div className="bg-white rounded-lg shadow p-6">
          <h2 className="text-lg font-semibold mb-4">ãŠçŸ¥ã‚‰ã›ç®¡ç†</h2>
          <p className="text-gray-600 mb-4">æ–°ã—ã„ãŠçŸ¥ã‚‰ã›ã®æŠ•ç¨¿ã‚„æ—¢å­˜ã®ãŠçŸ¥ã‚‰ã›ã®ç®¡ç†ãŒã§ãã¾ã™ã€‚</p>
          <Link
            href="/admin/notices"
            className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors inline-block"
          >
            ãŠçŸ¥ã‚‰ã›ç®¡ç†
          </Link>
        </div>

        <div className="bg-white rounded-lg shadow p-6">
          <h2 className="text-lg font-semibold mb-4">ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ç®¡ç†</h2>
          <p className="text-gray-600 mb-4">æ”¯æ´é‡‘æŠ•ç¥¨ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã®ä½œæˆãƒ»ç®¡ç†ãŒã§ãã¾ã™ã€‚</p>
          <Link
            href="/admin/campaigns"
            className="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors inline-block"
          >
            ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ç®¡ç†
          </Link>
        </div>
      </div>

      {/* é‹ç”¨ã‚¬ã‚¤ãƒ‰ */}
      <div className="bg-white rounded-lg shadow p-6">
        <h2 className="text-lg font-semibold mb-4">é‹ç”¨ã‚¬ã‚¤ãƒ‰</h2>
        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <h3 className="font-medium mb-2">æ—¥å¸¸çš„ãªä½œæ¥­</h3>
            <ul className="text-sm text-gray-600 space-y-1">
              <li>â€¢ ãŠçŸ¥ã‚‰ã›æŠ•ç¨¿ï¼š3åˆ†ç¨‹åº¦</li>
              <li>â€¢ ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³é–‹å§‹ï¼š10åˆ†ç¨‹åº¦</li>
              <li>â€¢ æŠ•ç¥¨çµæœç¢ºèªï¼šéšæ™‚</li>
            </ul>
          </div>
          <div>
            <h3 className="font-medium mb-2">æœˆæ¬¡ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹</h3>
            <ul className="text-sm text-gray-600 space-y-1">
              <li>â€¢ çµ‚äº†ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–</li>
              <li>â€¢ æœŸé™åˆ‡ã‚ŒãŠçŸ¥ã‚‰ã›ã®å‰Šé™¤</li>
              <li>â€¢ ã‚·ã‚¹ãƒ†ãƒ å‹•ä½œçŠ¶æ³ã®ç¢ºèª</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  );
}
```

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

### 1. Google Apps Script ãƒ‡ãƒ—ãƒ­ã‚¤
1. [script.google.com](https://script.google.com) ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
2. ä¸Šè¨˜ã®GASãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆãƒ»ä¿å­˜
3. Google Sheetsã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆ
4. ã€Œãƒ‡ãƒ—ãƒ­ã‚¤ã€â†’ã€Œæ–°ã—ã„ãƒ‡ãƒ—ãƒ­ã‚¤ã€â†’ã€Œã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã€
5. ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ï¼šã€Œå…¨å“¡ã€ã«è¨­å®š
6. ãƒ‡ãƒ—ãƒ­ã‚¤URLã‚’å–å¾—

### 2. Next.js ãƒ‡ãƒ—ãƒ­ã‚¤ (Vercel)
1. GitHubãƒªãƒã‚¸ãƒˆãƒªä½œæˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥
2. [vercel.com](https://vercel.com) ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
3. ç’°å¢ƒå¤‰æ•°è¨­å®šï¼š`NEXT_PUBLIC_GAS_API_URL`
4. è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†

### 3. æœ€çµ‚ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- [ ] å…¨ãƒšãƒ¼ã‚¸ã®å‹•ä½œç¢ºèª
- [ ] ãƒªãƒ•ã‚¡ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯ã®å‹•ä½œç¢ºèª
- [ ] ãŠçŸ¥ã‚‰ã›CRUDæ©Ÿèƒ½ã®ç¢ºèª
- [ ] ãƒ•ã‚©ãƒ¼ãƒ é€£æºãƒ»æŠ•ç¥¨æ©Ÿèƒ½ã®ç¢ºèª
- [ ] è¤‡æ•°ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³å¯¾å¿œã®ç¢ºèª
- [ ] ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†
- [ ] ç®¡ç†ç”»é¢ã®æ“ä½œç¢ºèª
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ç¢ºèª
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã®ç¢ºèª
- [ ] ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–æ©Ÿèƒ½ã®ç¢ºèª

---

**ã“ã®å®Œå…¨å®Ÿè£…è¨ˆç”»ã«ã‚ˆã‚Šã€è¦æœ›æ›¸ã®å†…å®¹ã‚’100%å®Ÿç¾ã™ã‚‹WEB3 MONEYã‚·ã‚¹ãƒ†ãƒ ãŒ7é€±é–“ã§ç¢ºå®Ÿã«å®Œæˆã—ã¾ã™ã€‚**